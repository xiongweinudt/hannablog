{{ if .Site.Params.DuoShuoShortName }}
<section class="comment">
  <div class="ds-thread" data-thread-key="{{ .Permalink }}"
   data-title="{{ .Title }}" data-url="{{ .Permalink }}"></div>
</section>
<script type="text/javascript">
var duoshuoQuery = {short_name:"{{ .Site.Params.DuoShuoShortName }}"};
(function() {
  var ds = document.createElement('script');
  ds.type = 'text/javascript';ds.async = true;
  ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
  ds.charset = 'UTF-8';
  (document.getElementsByTagName('head')[0]
  || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
{{ end }}

{{ if .Site.Params.DisqusShortName }}
<section class="comment">
<div id="disqus_thread"></div>
</section>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
var disqus_config = function () {
this.page.url = {{ .Permalink }};
this.page.identifier = {{ .Permalink }};
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//{{ .Site.Params.DisqusShortName }}.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
{{ end }}

{{ if .Site.Params.wangyiyunID }}
<section class="comment">
<div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
</section>
<script>
  var cloudTieConfig = {
    url: {{ .Permalink }}, 
    sourceId: "",
    productKey: {{ .Site.Params.wangyiyunID }},
    target: "cloud-tie-wrapper"
  };
</script>
<script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
{{ end }}

{{ if .Site.Params.GitHub }}
<section class="comment">
<div id="gitcontainer"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script>
var gitment = new Gitment({
  id: {{ .Permalink }},
  owner: {{ .Site.Params.GitHub }},
  repo: {{ .Site.Params.GitHubRepo }},
  oauth: {
    client_id: {{ .Site.Params.GitHubCID }},
    client_secret: {{ .Site.Params.GitHubCS }},
  },
})
gitment.render('gitcontainer')
</script>
</section>
{{ end }}
